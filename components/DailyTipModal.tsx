import React, { useState } from 'react';
import { Lightbulb, X, Quote, Sparkles } from 'lucide-react';

interface DailyTipModalProps {
  onClose: () => void;
}

const TIPS = [
  // --- الدراسة والتعلم ---
  "لا تكتفِ بالمقررات الجامعية، سوق العمل يتطلب مهارات عملية وتطبيقية (Self-learning).",
  "اللغة الإنجليزية هي مفتاح العلم في هذا المجال، معظم المصادر الحديثة والوثائق التقنية باللغة الإنجليزية.",
  "تعلم الخوارزميات وبنى المعطيات (Data Structures) جيداً، فهي حجر الأساس في مقابلات الشركات الكبرى.",
  "ابدأ ببناء معرض أعمالك (Portfolio) ومشاريعك الخاصة ورفعها على GitHub منذ السنة الثانية.",
  "تعلم استخدام أدوات إدارة النسخ (Git)، فهو مهارة لا غنى عنها في أي فريق عمل برمجي.",
  "لا تحفظ الكود، بل افهم المنطق. اللغات والتقنيات تتغير، لكن المنطق البرمجي ثابت.",
  "حاول قراءة كود كتبه غيرك (Open Source)، فهذه من أفضل طرق التعلم واكتساب الخبرة.",
  "الشهادة الجامعية هي مفتاح العبور، لكن المهارة هي ما يبقيك في الوظيفة.",
  "تجنب 'جحيم الدروس' (Tutorial Hell)، ابدأ بتطبيق ما تعلمته فوراً في مشروع حقيقي.",
  "لا تخجل من السؤال والبحث، الفضول المستمر هو محرك المبرمج الناجح.",
  "تعلم مهارة البحث بذكاء (Google Dorking) وكيفية صياغة الأسئلة التقنية.",
  "الفشل في الكود (Bugs) هو جزء من التعلم، لا تيأس عند ظهور الأخطاء.",
  "افهم كيف يعمل الحاسوب من الداخل (Memory, CPU, Compilers) لتكتب كوداً أكثر كفاءة.",
  "الرياضيات ليست مجرد أرقام، هي لغة المنطق التي تبنى عليها الخوارزميات والذكاء الصنعي.",
  "نوع مصادرك: كتب، مقالات، فيديوهات، ومشاريع عملية.",
  "شارك في المسابقات البرمجية (Competitive Programming) لصقل مهارات حل المشكلات.",
  "استفد من ساعات العملي في الكلية، ولا تتردد في طلب توضيح من المشرفين.",
  "راجع محاضراتك أولاً بأول، التراكم هو العدو الأول لطلاب الهندسة.",
  "شكل مجموعات دراسية مع زملائك، شرح المعلومة لغيرك يثبتها في ذهنك.",
  "لا تهمل المواد النظرية مثل 'هندسة البرمجيات'، فهي تعلمنا كيف نبني أنظمة قابلة للصيانة.",

  // --- التطوير المهني ---
  "أنشئ حساباً على LinkedIn واجعله احترافياً، وابدأ ببناء شبكة علاقاتك مبكراً.",
  "العلاقات (Networking) لا تقل أهمية عن المهارات التقنية في الحصول على فرص عمل.",
  "احضر الفعاليات التقنية والمؤتمرات (Tech Meetups) في مدينتك أو عبر الإنترنت.",
  "تعلم كيف تسوق لنفسك ولمهاراتك دون مبالغة.",
  "لا تقلل من شأن 'المهارات الناعمة' (Soft Skills) مثل التواصل والعمل الجماعي.",
  "العمل الحر (Freelancing) تجربة ممتازة أثناء الدراسة، لكن لا تدعه يؤثر على معدلك.",
  "تخصص في مجال محدد (Web, AI, CyberSec) بعد أن تأخذ فكرة عامة عن كل المجالات.",
  "تابع المدونات التقنية والمواقع الإخبارية لتبقى على اطلاع بآخر الصيحات.",
  "تعلم كيف تكتب سيرة ذاتية (CV) تقنية تركز على المشاريع والتقنيات.",
  "التدريب الصيفي في الشركات فرصة ذهبية لاكتشاف بيئة العمل الحقيقية.",
  "لا تخشَ التقديم على الوظائف حتى لو لم تستوفِ كل الشروط، الشركات تبحث عن القابلية للتعلم.",
  "تعلم التفاوض ولا ترضَ بأي عرض عمل دون دراسة.",
  "كن أميناً في عملك، الأخلاقيات المهنية هي رأسمالك الحقيقي.",
  "ساعد زملاءك المبتدئين، زكاة العلم نشره، وسيعود عليك ذلك بالنفع.",
  "لا تقارن بدايتك بموسم حصاد الآخرين، لكل شخص مساره الخاص.",

  // --- تقنيات وأدوات ---
  "تعلم التعامل مع سطر الأوامر (Command Line/Terminal)، فهو أسرع وأقوى من الواجهات الرسومية.",
  "نظام Linux هو صديق المبرمجين، حاول استخدامه كنظام أساسي لفترة.",
  "تعلم اختصارات لوحة المفاتيح في المحرر (IDE) الذي تستخدمه، ستوفر الكثير من الوقت.",
  "اكتب تعليقات (Comments) توضح 'لماذا' كتبت هذا الكود، وليس 'ماذا' يفعل.",
  "التسمية الصحيحة للمتغيرات والدوال هي نصف الكود النظيف (Clean Code).",
  "تعلم مبادئ SOLID و Design Patterns لكتابة برمجيات قابلة للتطوير.",
  "الاختبارات (Unit Testing) ليست رفاهية، هي ضمان لعدم انهيار نظامك عند التعديل.",
  "تعلم أساسيات Docker و Containers، فهي معيار الصناعة حالياً للنشر.",
  "قواعد البيانات (SQL و NoSQL) مهارة جوهرية لأي مطور Backend.",
  "افهم بروتوكولات الشبكة الأساسية (HTTP, DNS, IP) وكيف يعمل الويب.",
  "تعلم أساسيات الأمان (Security) وكيف تحمي تطبيقاتك من الثغرات الشائعة.",
  "لا تعد اختراع العجلة، استخدم المكتبات والأطر (Frameworks) الشهيرة والمجربة.",
  "لكن لا تعتمد على الـ Framework دون فهم الأساسيات التي بني عليها.",
  "تعلم تقنية واحدة بعمق أفضل من معرفة سطحية بعشر تقنيات.",
  "النسخ الاحتياطي (Backups) هو طوق النجاة، احفظ عملك في مكان آمن دائماً.",
  "استخدم أدوات الذكاء الصنعي (مثل ChatGPT) كمساعد، وليس كبديل عن عقلك.",

  // --- عادات صحية وإنتاجية ---
  "اهتم بصحتك الجسدية، البرمجة تتطلب جلوساً طويلاً، فاحرص على الكرسي المريح والوضعية الصحيحة.",
  "قاعدة 20-20-20 للعين: كل 20 دقيقة، انظر لشيء يبعد 20 قدماً لمدة 20 ثانية.",
  "شرب الماء بانتظام يساعد على التركيز ويقلل الصداع.",
  "النوم الجيد ضروري لترسيخ المعلومات في الذاكرة طويلة الأمد.",
  "استخدم تقنية 'بومودورو' لإدارة الوقت وتجنب الإرهاق الذهني.",
  "المشي أو الرياضة الخفيفة تساعد في حل المشاكل البرمجية المعقدة (Diffused Mode Thinking).",
  "افصل عن التكنولوجيا قليلاً، الهوايات البعيدة عن الشاشة تجدد نشاطك.",
  "رتب مكتبك وبيئة عملك، الفوضى الخارجية تشتت الذهن.",
  "تناول طعاماً صحياً، العقل السليم في الجسم السليم.",
  "لا تواصل العمل لساعات متأخرة من الليل بشكل دائم، الإرهاق يولد أخطاءً (Bugs).",

  // --- حكم وعقليات ---
  "أفضل كود هو الكود الذي لم يكتب (No Code)، البساطة هي قمة الهندسة.",
  "الكمال عدو الإنجاز، أطلق النسخة الأولى ثم حسنها لاحقاً.",
  "لا يوجد نظام خالٍ من الأخطاء، لكن يوجد نظام يمكن إصلاحه بسرعة.",
  "التقنية مجرد أداة لحل مشاكل البشر، لا تنسَ الجانب الإنساني.",
  "كن مرناً، ما هو رائج اليوم قد يصبح قديماً غداً.",
  "متلازمة المحتال (Imposter Syndrome) تصيب الجميع حتى الخبراء، ثق بنفسك.",
  "طريق الألف ميل يبدأ بـ 'Hello World'.",
  "الاستمرارية أهم من الكثافة، ساعة يومياً أفضل من يوم كامل كل شهر.",
  "لا تربط قيمتك بإنتاجيتك، أنت إنسان ولست آلة.",
  "استمتع بالرحلة، الهندسة المعلوماتية مجال ممتع ومليء بالإبداع.",

  // --- نصائح إضافية متنوعة ---
  "اقرأ التوثيق الرسمي (Documentation) قبل البحث في StackOverflow.",
  "تعلم كيفية تصحيح الأخطاء (Debugging) باستخدام أدوات المتصفح أو الـ IDE.",
  "افهم الفرق بين Authentication و Authorization.",
  "تعلم أساسيات التشفير (Encryption) والخصوصية.",
  "جرب بناء مشروع كامل من الصفر (Full Stack) ولو مرة واحدة.",
  "تعلم كيفية التعامل مع الـ APIs (REST و GraphQL).",
  "افهم مبدأ الـ Agile و Scrum في إدارة المشاريع البرمجية.",
  "تعلم Regex (Regular Expressions)، ستنقذك في مواقف كثيرة.",
  "لا تهمل التحقق من المدخلات (Input Validation) أبداً.",
  "فكر في حالات الحافة (Edge Cases) عند كتابة أي خوارزمية.",
  "تعلم الطباعة السريعة (Touch Typing)، ستوفر عليك ساعات في المستقبل.",
  "استثمر في لوحة مفاتيح وماوس مريحين، هما أدواتك اليومية.",
  "استخدم الوضع الليلي (Dark Mode) إذا كان يريح عينيك.",
  "نظم ملفاتك ومجلدات مشاريعك بطريقة منطقية.",
  "تعلم كيفية كتابة رسائل Commit واضحة ومعبرة في Git.",
  "اقرأ عن الـ Technical Debt وكيف تتجنبه.",
  "جرب لغات برمجة مختلفة النماذج (Functional vs OOP).",
  "افهم الفرق بين المترجم (Compiler) والمفسر (Interpreter).",
  "تعلم كيفية عمل الاستضافة (Hosting) ونشر المواقع.",
  "افهم معنى الـ Scalability وكيف تبني أنظمة تتحمل الضغط.",
  "لا تكن متعصباً للغة أو تقنية معينة، كن مهندساً يختار الأداة الأنسب.",
  "شارك ما تعلمته في مدونة أو فيديو، أفضل طريقة للتعلم هي التعليم.",
  "كن صبوراً، تصحيح خطأ واحد قد يأخذ ساعات، وهذا طبيعي.",
  "احتفل بإنجازاتك الصغيرة عند حل المشاكل.",
  "اجعل التعلم عادة يومية، فالعلم في هذا المجال لا يتوقف."
];

const DailyTipModal: React.FC<DailyTipModalProps> = ({ onClose }) => {
  // Select a random tip only once when the component mounts
  const [tip] = useState(() => TIPS[Math.floor(Math.random() * TIPS.length)]);

  return (
    <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300">
      <div className="bg-gradient-to-br from-ite-800 to-ite-900 border border-ite-700/50 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden relative animate-in zoom-in-95 slide-in-from-bottom-4 duration-300">
        
        {/* Background Effects */}
        <div className="absolute top-0 right-0 w-32 h-32 bg-yellow-500/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
        <div className="absolute bottom-0 left-0 w-32 h-32 bg-ite-accent/5 rounded-full blur-3xl -ml-16 -mb-16 pointer-events-none"></div>

        <button 
          onClick={onClose}
          className="absolute top-4 left-4 p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-colors z-10"
        >
          <X size={20} />
        </button>

        <div className="p-8 text-center flex flex-col items-center">
          <div className="w-16 h-16 bg-yellow-500/10 rounded-full flex items-center justify-center mb-6 ring-4 ring-yellow-500/5 shadow-[0_0_20px_rgba(234,179,8,0.2)]">
            <Lightbulb size={32} className="text-yellow-400 fill-yellow-400/20" />
          </div>

          <h2 className="text-2xl font-bold text-white mb-2 flex items-center gap-2">
            نصيحة تقنية
            <Sparkles size={18} className="text-yellow-400" />
          </h2>
          <p className="text-slate-400 text-sm mb-6 uppercase tracking-widest font-medium">لتكن مهندساً متميزاً</p>

          <div className="relative bg-ite-800/50 p-6 rounded-xl border border-ite-700/50 w-full min-h-[120px] flex items-center justify-center">
            <Quote size={24} className="absolute top-4 right-4 text-ite-700/50 transform -scale-x-100" />
            <p className="text-lg text-slate-200 leading-relaxed font-medium relative z-10">
              {tip}
            </p>
            <Quote size={24} className="absolute bottom-4 left-4 text-ite-700/50" />
          </div>

          <button 
            onClick={onClose}
            className="mt-8 px-8 py-2.5 rounded-xl bg-ite-accent text-white hover:bg-blue-600 transition-all shadow-lg shadow-ite-accent/25 font-semibold"
          >
            فهمت ذلك، شكراً
          </button>
        </div>
      </div>
    </div>
  );
};

export default DailyTipModal;